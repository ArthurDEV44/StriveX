---
import { ArrowUpRight, BadgeCheck } from 'lucide-astro';
import { useTranslations } from '../../i18n';

interface Props {
  locale: 'fr' | 'en';
}

const { locale } = Astro.props;
const t = useTranslations(locale);

// Trust indicators configuration pour faciliter la maintenance
const trustIndicators = [
  { icon: BadgeCheck, text: t('hero.trust.delivery'), ariaLabel: locale === 'fr' ? 'Délai de livraison garanti entre 14 et 30 jours peu varier selon la complexité du projet' : 'Guaranteed delivery time between 14 and 30 days may vary depending on project complexity' },
  { icon: BadgeCheck, text: t('hero.trust.guarantee'), ariaLabel: locale === 'fr' ? 'Garantie satisfait ou remboursé à 100%' : '100% satisfied or refunded guarantee' },
  { icon: BadgeCheck, text: t('hero.trust.hosting'), ariaLabel: locale === 'fr' ? 'Hébergement gratuit pendant un an' : 'Free hosting for one year' },
];
---

<!-- Section Hero principale avec sémantique appropriée -->
<section 
  id="hero" 
  class="relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-blue-50 via-white to-purple-50 pt-20 md:pt-24"
  aria-labelledby="hero-heading"
>
  <!-- Conteneur principal centré et responsive -->
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16 md:py-20 text-center">
    
    <!-- En-tête principal avec hiérarchie H1 sémantique -->
    <header class="mb-8 md:mb-12">
      <h1 
        id="hero-heading"
        class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-['PPMori'] font-semibold tracking-tight text-gray-900 mb-4 sm:mb-6 leading-[1.1] sm:leading-tight animate-fade-in-up animation-delay-200"
      >
        {t('hero.title')}
      </h1>

      <!-- Sous-titre descriptif avec meilleur contraste -->
      <p 
        class="text-lg sm:text-xl md:text-2xl text-gray-700 mb-0 max-w-2xl lg:max-w-3xl mx-auto leading-relaxed font-['PPMori'] font-normal animate-fade-in-up animation-delay-400"
      >
        {t('hero.subtitle')}
      </p>
    </header>

    <!-- Groupe de CTA buttons avec navigation claire -->
    <nav 
      class="flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center animate-fade-in-up animation-delay-600 mb-12 sm:mb-16"
      aria-label="Actions principales"
    >      
      <!-- CTA primaire - Dark variant -->
      <a 
        href="#contact" 
        class="cta-button group relative inline-flex items-center justify-center w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-3.5 text-base sm:text-lg font-['PPMori'] font-semibold text-white rounded-full transition-all duration-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#1a1a1a] focus-visible:ring-offset-4"
        aria-label={locale === 'fr' ? 'Réserver un appel de consultation avec notre équipe' : 'Book a consultation call with our team'}
      >
        <span class="relative z-10 flex items-center gap-2">
          <span>{t('hero.cta.primary')}</span>
          <ArrowUpRight 
            class="w-4 h-4 sm:w-5 sm:h-5 group-hover:rotate-45 transition-transform duration-300" 
            aria-hidden="true"
          />
        </span>
      </a>
      
      <!-- CTA secondaire - Light variant -->
      <a 
        href="#pricing" 
        class="cta-button-light group relative inline-flex items-center justify-center w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-3.5 text-base sm:text-lg font-['PPMori'] font-semibold rounded-full transition-all duration-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-[#3b82f6] focus-visible:ring-offset-4"
        aria-label={locale === 'fr' ? 'Consulter nos offres et tarifs' : 'View our packages and pricing'}
      >
        <span class="relative z-10 flex items-center gap-2">
          <span>{t('hero.cta.secondary')}</span>
          <ArrowUpRight 
            class="w-4 h-4 sm:w-5 sm:h-5 group-hover:rotate-45 transition-transform duration-300" 
            aria-hidden="true"
          />
        </span>
      </a>
    </nav>

    <!-- Trust indicators avec liste sémantique -->
    <aside 
      class="animate-fade-in-up animation-delay-800"
      aria-label="Garanties et engagements"
    >
      <ul class="flex flex-col sm:flex-row flex-wrap justify-center items-center gap-4 sm:gap-6 md:gap-8 list-none m-0 p-0">
        {trustIndicators.map((indicator) => {
          const IconComponent = indicator.icon;
          return (
            <li 
              class="flex items-center gap-2 text-sm sm:text-base text-gray-700 font-['PPMori'] font-normal m-0 p-0"
              aria-label={indicator.ariaLabel}
            >
              <IconComponent 
                class="w-4 h-4 sm:w-5 sm:h-5 text-zinc-900 flex-shrink-0" 
                aria-hidden="true"
              />
              <span>{indicator.text}</span>
            </li>
          );
        })}
      </ul>
    </aside>
  </div>
</section>


<script>
  import { initSmoothScroll } from '@/utils';

  // Initialiser le smooth scroll
  document.addEventListener('DOMContentLoaded', () => {
    initSmoothScroll('a[href^="#"]', { offset: 100 });
  });
</script>
